---
title: "Modos Operativos del Dungeon Life Agent"
version: "1.0.0"
date: "2025-10-07"
status: "active"
author: "Dungeon Life Agent Team"
tags: ["modos-operativos", "modo-consultor", "modo-taxonomico", "modo-colaborador", "roles-especificos"]
machine_readable_spec:
  schema_version: "1.0"
  ai_compatibility: true
  export_formats: ["markdown", "html", "pdf"]
  operational_modes:
    modo_1_consultor: "Solo lectura, navegaci√≥n experta"
    modo_2_taxonomico: "An√°lisis y sugerencias estructurales"
    modo_3_colaborador: "Modificaciones controladas con confirmaci√≥n"
---

# üé≠ Modos Operativos del Dungeon Life Agent

## üéØ Introducci√≥n a los Modos Operativos

El Dungeon Life Agent opera en **tres modos especializados** que determinan su nivel de intervenci√≥n en el ecosistema. Cada modo est√° dise√±ado espec√≠ficamente para diferentes tipos de tareas y niveles de responsabilidad, asegurando seguridad y precisi√≥n en todas las operaciones.

### Filosof√≠a de los Modos

- **üõ°Ô∏è Seguridad Primero**: Cada modo tiene permisos estrictamente definidos
- **üéØ Especializaci√≥n**: Cada modo est√° optimizado para tareas espec√≠ficas
- **üîÑ Cambio Fluido**: Transici√≥n autom√°tica o manual entre modos seg√∫n contexto
- **üìã Trazabilidad**: Todas las operaciones son logged seg√∫n su modo

---

## MODO 1: Consultor (Por Defecto) üëÅÔ∏è

**Estado**: Solo lectura, m√°ximo conocimiento
**Permisos**: Lectura total, an√°lisis completo, navegaci√≥n experta
**Operaciones**: Consultas, b√∫squedas, an√°lisis, explicaciones

### Funcionalidades Espec√≠ficas por Rol

#### üé≠ Para Guionistas
**Consultas Narrativas Especializadas:**

```markdown
**Consulta de Personajes**
Guionista: "¬øQu√© personajes est√°n disponibles para esta escena?"
Agente: "Personajes disponibles seg√∫n narrativa actual:
         - Bromar: Mentor veterano (DLE_500_CHAR_Bromar.fes.yml)
         - Aeliana: Guardabosques √©lfica (DLE_500_CHAR_Aeliana.fes.yml)
         - Grim: Ladr√≥n incompetente (DLE_400_Grim_Concept.md)
         - Juan: Programador transportado (DLE_500_CHAR_Juan.fes.yml)
         Recomendaci√≥n: Bromar + Grim para escena de mentor√≠a c√≥mica"

**An√°lisis de Relaciones**
Guionista: "¬øQu√© conflictos puedo generar entre estos personajes?"
Agente: "An√°lisis de relaciones disponibles:
         - Bromar vs Grim: Protecci√≥n vs Caos (conflicto establecido)
         - Aeliana vs Juan: Naturaleza vs Tecnolog√≠a (conflicto tem√°tico)
         - Grim vs Cofrad√≠a: Traici√≥n reciente (arco de redenci√≥n)
         Sugerencia: Usar conflicto Bromar-Grim para desarrollo emocional"
```

**B√∫squeda Avanzada de Di√°logos:**
```markdown
Guionista: "¬øD√≥nde est√° el di√°logo inicial de Juan y Bromar?"
Agente: "Ubicaci√≥n encontrada:
         Archivo: 00_Documentation/DungeonLifeEcosystem/09_Example_Witness_Scene/Escena_Bromar_Testigo.md
         L√≠neas: 114-158
         Contexto: Primera interacci√≥n en taberna, establecimiento de mentor√≠a
         Personajes: Juan (confundido), Bromar (dormido inicialmente)
         Tema: Introducci√≥n al mundo, establecimiento de confianza"
```

#### ‚öôÔ∏è Para Game Designers
**An√°lisis T√©cnico de Sistemas:**

```markdown
**Consulta de Mec√°nicas**
Game Designer: "¬øQu√© mec√°nicas de combate est√°n definidas para personajes?"
Agente: "Mec√°nicas disponibles por personaje:
         - Bromar: Sistema de protecci√≥n (DLE_210_Combate_Proteccion.md)
         - Aeliana: Ataques ranged naturaleza (DLE_210_Combate_Ranged.md)
         - Grim: Mec√°nicas de fracaso beneficioso (DLE_210_Grim_Mecanicas.md)
         - Juan: Sistema de programaci√≥n m√°gica (DLE_210_Programacion_Magia.md)
         Documentaci√≥n: Todas en DLE_210_Sistema_Combate_V9/"

**An√°lisis Comparativo de Balance**
Game Designer: "¬øEst√° balanceado este personaje comparado con otros?"
Agente: "An√°lisis de balance completo:
         Personaje Analizado: Grim (nuevo dise√±o)
         Comparaci√≥n con: Bromar (tanque), Aeliana (ranged), Juan (support)

         Stats Comparativos:
         - HP: Grim 15/25 vs Bromar 25/25 vs Aeliana 20/25 vs Juan 18/25
         - Ataque: Grim 3 vs Bromar 7 vs Aeliana 5 vs Juan 2
         - Defensa: Grim 2 vs Bromar 6 vs Aeliana 4 vs Juan 3

         Recomendaci√≥n: Aumentar HP +5 y defensa +1 para balance"
```

#### üé® Para 3D Artists
**An√°lisis T√©cnico de Assets:**

```markdown
**Consulta de Especificaciones T√©cnicas**
Modelador: "¬øCu√°les son los est√°ndares t√©cnicos para modelos de personajes?"
Agente: "Especificaciones t√©cnicas actuales:
         - Polycount: 15,000-25,000 tris (DLE_100_Especificaciones_Tecnicas.md)
         - Texturas: 2K-4K resolution, PBR materials
         - Bones: 15-25 para personajes humanoides
         - LODs: 3 niveles requeridos (100%, 50%, 25%)
         - Formato: .fbx optimizado para Unreal Engine"

**B√∫squeda de Referencias Similares**
Texturizador: "¬øQu√© materiales est√°n definidos para armaduras medievales?"
Agente: "Materiales de armaduras encontrados:
         - Acero antiguo: #4A4A4A (Bromar, guerreros veteranos)
         - Cuero gastado: #8B4513 (exploradores, cazadores)
         - Placas √©lficas: #C0C0C0 con glow sutil (Aeliana, guardias √©lficos)
         - Referencias: DLE_200_Materiales_Armaduras.md"
```

#### üìã Para Project Managers
**Consulta de Estado de Proyecto:**

```markdown
**Estado de Assets por Personaje**
Productor: "¬øQu√© falta para completar el personaje Grim?"
Agente: "Estado actual de implementaci√≥n de Grim:
         ‚úÖ Guionista: Di√°logos y arco narrativo completos
         ‚úÖ Game Designer: Mec√°nicas definidas y balanceadas
         ‚úÖ Conceptualista: Concept art aprobado y consistente
         ‚è≥ Modelador 3D: Modelo base completado (95%)
         ‚è≥ Texturizador: Texturas en revisi√≥n (80%)
         ‚è≥ Animador: Animaciones b√°sicas implementadas (90%)
         ‚è≥ Unreal Dev: Integraci√≥n en DataTables pendiente
         ETA Estimada: 3 d√≠as para completitud total"

**An√°lisis de Dependencias**
Productor: "¬øQu√© bloquea la implementaci√≥n de este personaje?"
Agente: "Dependencias identificadas:
         - BLOCKER: Texturas de Grim dependen de modelo base aprobado
         - BLOCKER: Animaciones requieren rig final del modelo
         - DEPENDENCY: Mec√°nicas de juego requieren DataTable en Unreal
         - SUGERENCIA: Completar modelo base antes de continuar pipeline"
```

### Caracter√≠sticas T√©cnicas del Modo Consultor

#### Sistema de B√∫squeda Avanzada
```python
class ConsultorMode:
    def __init__(self):
        self.search_engine = SemanticSearchEngine()
        self.atlas_navigator = AtlasNavigator()
        self.entity_resolver = EntityResolver()

    async def process_consultation(self, query, user_role, context):
        """Procesamiento especializado de consultas"""

        # 1. An√°lisis sem√°ntico de la consulta
        semantic_analysis = await self.analyze_query_semantics(query)

        # 2. Detecci√≥n autom√°tica del rol del usuario
        role_context = await self.detect_user_role(user_role, context)

        # 3. Navegaci√≥n inteligente del Atlas
        atlas_routing = await self.route_to_appropriate_pillar(semantic_analysis)

        # 4. B√∫squeda especializada seg√∫n rol
        if role_context["role"] == "guionista":
            results = await self.search_narrative_content(query, atlas_routing)
        elif role_context["role"] == "game_designer":
            results = await self.search_game_systems(query, atlas_routing)
        elif role_context["role"] == "3d_artist":
            results = await self.search_technical_specs(query, atlas_routing)
        elif role_context["role"] == "project_manager":
            results = await self.search_project_status(query, atlas_routing)

        # 5. Formateo de respuesta seg√∫n rol
        formatted_response = await self.format_response_for_role(results, role_context)

        return formatted_response
```

#### Navegaci√≥n por el Atlas de 6 Pilares
```yaml
pillar_routing:
  consulta_narrativa:
    palabras_clave: ["personaje", "di√°logo", "arco", "historia", "escena"]
    pilares_prioritarios: ["pilar_400", "pilar_500", "pilar_200"]
    profundidad_busqueda: "alta"

  consulta_tecnica:
    palabras_clave: ["sistema", "mec√°nica", "balance", "reglas", "c√≥digo"]
    pilares_prioritarios: ["pilar_100", "pilar_200", "pilar_300"]
    profundidad_busqueda: "alta"

  consulta_assets:
    palabras_clave: ["modelo", "textura", "animaci√≥n", "concept", "arte"]
    pilares_prioritarios: ["pilar_200", "pilar_500", "pilar_100"]
    profundidad_busqueda: "media"

  consulta_gestion:
    palabras_clave: ["estado", "progreso", "dependencias", "timeline", "recursos"]
    pilares_prioritarios: ["pilar_100", "pilar_200", "pilar_300"]
    profundidad_busqueda: "media"
```

---

## MODO 2: Asistente Taxon√≥mico üîç

**Estado**: An√°lisis y sugerencias, sin modificaciones
**Permisos**: Lectura total, an√°lisis profundo, generaci√≥n de sugerencias
**Operaciones**: Organizaci√≥n, clasificaci√≥n, sugerencias estructurales

### Funcionalidades Espec√≠ficas por Rol

#### üé≠ Para Guionistas - Organizaci√≥n Narrativa
**An√°lisis de Estructura Narrativa:**

```markdown
**An√°lisis de Organizaci√≥n Actual**
Guionista: "¬øEst√° bien organizado este arco narrativo?"
Agente: "An√°lisis taxon√≥mico de estructura narrativa:
         ‚úÖ Sigue principios del pilar 400 (Ecosistema Narrativo)
         ‚úÖ Mantiene coherencia con arco de personajes establecido
         ‚ö†Ô∏è Inconsistencia: Escena 3 rompe arco de desarrollo de Grim
         üìã Sugerencias:
            - Mover escena de traici√≥n despu√©s de desarrollo de confianza
            - Agregar escena puente entre escenas 2 y 4
            - Considerar impacto en relaciones de personajes"

**Clasificaci√≥n de Di√°logos**
Guionista: "¬øC√≥mo est√°n organizados los di√°logos de este personaje?"
Agente: "Clasificaci√≥n autom√°tica de di√°logos de Bromar:
         üìÇ Di√°logos por Contexto:
            - Taberna: 15 di√°logos (DLE_400_Bromar_Taberna.md)
            - Combate: 8 di√°logos (DLE_400_Bromar_Combate.md)
            - Mentor√≠a: 12 di√°logos (DLE_400_Bromar_Mentoria.md)
            - Personal: 6 di√°logos (DLE_400_Bromar_Personal.md)
         üéØ Sugerencia: Crear categor√≠a 'Transici√≥n' para di√°logos de cambio de contexto"
```

#### ‚öôÔ∏è Para Game Designers - Organizaci√≥n de Sistemas
**An√°lisis de Documentaci√≥n GDD:**

```markdown
**An√°lisis de Organizaci√≥n de Mec√°nicas**
Game Designer: "¬øEst√° bien estructurada la documentaci√≥n de combate?"
Agente: "An√°lisis taxon√≥mico de documentaci√≥n de combate:
         üìÇ Estructura Actual:
            - DLE_210_Combate_Base.md ‚úÖ (bien ubicado)
            - DLE_211_Mecanicas_Concepto.md ‚úÖ (sigue numeraci√≥n)
            - DLE_212_Sistema_Cartas.md ‚úÖ (consistente)
            - DLE_213_Arquitectura_Unreal.md ‚úÖ (t√©cnico apropiado)
         üéØ Sugerencias de Organizaci√≥n:
            - Crear √≠ndice maestro DLE_210_00_Indice_Combate.md
            - Separar mec√°nicas por personaje en subcarpeta
            - Crear gu√≠a de navegaci√≥n para nuevos desarrolladores"
```

#### üé® Para 3D Artists - Organizaci√≥n de Assets
**An√°lisis de Estructura de Archivos:**

```markdown
**An√°lisis de Organizaci√≥n de Assets 3D**
Modelador: "¬øEst√° bien organizada la carpeta de personajes?"
Agente: "An√°lisis taxon√≥mico de estructura de personajes:
         üìÇ Estructura Actual:
            ‚úÖ 02_ContentAssets/01_Entities/Characters/ (correcta seg√∫n pilar 200)
            ‚úÖ NPCs/Bromar/ (organizaci√≥n por entidad apropiada)
            ‚úÖ 00_Concepts/, 01_SourceFiles/, 02_ExportedAssets/ (pipeline correcto)
         ‚ö†Ô∏è Problemas Detectados:
            - Archivos sin numeraci√≥n final (_WIP_v1 en lugar de _FINAL_v1)
            - Falta documentaci√≥n t√©cnica en cada carpeta
            - Inconsistencia en nomenclatura de texturas
         üìã Sugerencias:
            - Renombrar archivos WIP a FINAL cuando est√©n listos
            - Crear README.md en cada carpeta de personaje
            - Estandarizar nombres de texturas seg√∫n pilar 300"
```

#### üìã Para Project Managers - Organizaci√≥n de Proyecto
**An√°lisis de Flujo de Trabajo:**

```markdown
**An√°lisis de Organizaci√≥n de Tareas**
Productor: "¬øEst√° bien estructurado el flujo de trabajo?"
Agente: "An√°lisis taxon√≥mico de flujo de trabajo:
         üìÇ Flujo Actual:
            ‚úÖ Guionista ‚Üí Game Designer ‚Üí Conceptualista (orden l√≥gico)
            ‚úÖ 3D Artists trabajan en paralelo (eficiente)
            ‚úÖ Project Manager coordina (apropiado)
         ‚ö†Ô∏è Cuellos de Botella Detectados:
            - Dependencia lineal entre modelado y texturizado
            - Falta paralelizaci√≥n en pipeline de assets
            - Comunicaci√≥n entre roles podr√≠a mejorarse
         üìã Sugerencias de Optimizaci√≥n:
            - Paralelizar modelado base con concept art detallado
            - Crear canales de comunicaci√≥n espec√≠ficos por rol
            - Implementar revisiones por etapas en lugar de finales"
```

### Sistema de Sugerencias Inteligente

#### Algoritmo de An√°lisis Taxon√≥mico
```python
class TaxonomicoMode:
    def __init__(self):
        self.atlas_analyzer = AtlasComplianceAnalyzer()
        self.structure_analyzer = StructureAnalyzer()
        self.naming_validator = NamingConventionValidator()

    async def analyze_and_suggest(self, target_path, user_role):
        """An√°lisis completo y generaci√≥n de sugerencias"""

        # 1. An√°lisis de compliance con Atlas
        atlas_compliance = await self.atlas_analyzer.analyze_compliance(target_path)

        # 2. An√°lisis de estructura actual
        structure_analysis = await self.structure_analyzer.analyze_structure(target_path)

        # 3. Validaci√≥n de nomenclatura
        naming_validation = await self.naming_validator.validate_naming(target_path)

        # 4. Generaci√≥n de sugerencias espec√≠ficas por rol
        if user_role == "guionista":
            suggestions = await self.generate_narrative_suggestions(
                atlas_compliance, structure_analysis, naming_validation
            )
        elif user_role == "game_designer":
            suggestions = await self.generate_system_suggestions(
                atlas_compliance, structure_analysis, naming_validation
            )
        elif user_role == "3d_artist":
            suggestions = await self.generate_asset_suggestions(
                atlas_compliance, structure_analysis, naming_validation
            )
        elif user_role == "project_manager":
            suggestions = await self.generate_management_suggestions(
                atlas_compliance, structure_analysis, naming_validation
            )

        return {
            "atlas_compliance": atlas_compliance,
            "structure_analysis": structure_analysis,
            "naming_validation": naming_validation,
            "suggestions": suggestions,
            "improvement_priority": await self.prioritize_improvements(suggestions)
        }
```

#### Sistema de Validaci√≥n de Compliance
```yaml
compliance_validation:
  pilar_200_taxonomia:
    estructura_requerida: "01_Entities/Characters/NPCs/Nombre/"
    archivos_requeridos: ["README.md", "00_Concepts/", "01_SourceFiles/", "02_ExportedAssets/"]
    nomenclatura_requerida: "Nombre_Tipo_FINAL_v[0-9]+.ext"

  pilar_300_nomenclatura:
    patrones_validos: ["_FINAL_v[0-9]+", "_WIP_v[0-9]+", "_DRAFT_v[0-9]+"]
    prefijos_requeridos: ["DLE_", "CHAR_", "ECH_", "REL_"]
    separadores_validos: ["_", "-"]

  pilar_500_fes:
    estructura_requerida: "fes.yml con campos obligatorios"
    relaciones_requeridas: "UUID, versi√≥n, estado, trazabilidad"
    validacion_cruzada: "Consistencia entre entidades relacionadas"
```

---

## MODO 3: Colaborador Activo ‚úèÔ∏è

**Estado**: Modificaciones controladas con validaci√≥n estricta
**Permisos**: Lectura total, escritura controlada, modificaci√≥n segura
**Operaciones**: Crear, modificar, mover, renombrar con confirmaci√≥n

### Funcionalidades Espec√≠ficas por Rol

#### üé≠ Para Guionistas - Creaci√≥n y Modificaci√≥n Narrativa
**Operaciones Seguras de Creaci√≥n:**

```markdown
**Creaci√≥n de Nueva Entidad FES**
Guionista: "Crea nueva entidad FES para el personaje Grim"
Agente: "Creando entidad FES para Grim...
         üìã Informaci√≥n requerida:
         - Nombre completo: Grim
         - Tipo: Personaje NPC
         - Rol: Ladr√≥n Incompetente
         - Ubicaci√≥n: Cofrad√≠a Sure√±a inicialmente

         ‚úÖ Archivo creado: 02_Entidades/Characters/ECH_Grim.md
         ‚úÖ Archivo FES creado: 02_Entidades/Characters/CHAR_Grim.fes.yml
         ‚úÖ Archivo relaciones creado: 02_Entidades/Relations/REL_CHAR_Grim.md

         üîí Backup autom√°tico creado antes de modificaciones
         üìã Confirmaci√≥n requerida para proceder"

**Modificaci√≥n de Di√°logos Existentes**
Guionista: "Actualiza el di√°logo de Bromar en la escena de taberna"
Agente: "Modificando di√°logo de Bromar...
         üìã Cambios propuestos:
         - Archivo: Escena_Bromar_Testigo.md (l√≠neas 114-158)
         - Cambio: Actualizar respuesta de Bromar para m√°s calidez

         ‚ö†Ô∏è Impacto an√°lisis:
         - Afecta coherencia con otros di√°logos de Bromar
         - Requiere actualizaci√≥n de relaciones con Juan
         - Mantiene arco de desarrollo de personaje

         üîí Backup creado: backup_2025-10-07_10-30_bromar_dialogue.md
         üìã Confirmar modificaci√≥n (s√≠/no)?"
```

#### ‚öôÔ∏è Para Game Designers - Modificaci√≥n de Sistemas
**Operaciones Controladas de Sistemas:**

```markdown
**Creaci√≥n de Nueva Mec√°nica**
Game Designer: "Crea nueva mec√°nica para el sistema de cartas"
Agente: "Creando nueva mec√°nica de cartas...
         üìã Informaci√≥n requerida:
         - Nombre: Robo Ca√≥tico
         - Tipo: Habilidad de personaje (Grim)
         - Efecto: 50% falla pero beneficia al equipo

         ‚úÖ Archivo creado: DLE_210_Grim_Robo_Caotico.md
         ‚úÖ Documentaci√≥n t√©cnica: DLE_211_Mecanica_Robo_Caotico.md
         ‚úÖ Especificaciones balance: DLE_212_Balance_Robo_Caotico.md

         üîí Backup autom√°tico de archivos relacionados
         üìã Confirmaci√≥n requerida para proceder"

**Modificaci√≥n de Balance**
Game Designer: "Ajusta el balance del personaje Aeliana"
Agente: "Modificando balance de Aeliana...
         üìã Cambios propuestos:
         - HP: 20 ‚Üí 22 (+10%)
         - Ataque: 5 ‚Üí 6 (+20%)
         - Defensa: 4 ‚Üí 4 (sin cambio)

         ‚ö†Ô∏è Impacto an√°lisis:
         - Comparaci√≥n con otros personajes mantenida
         - Rol ranged preservado
         - Balance general del juego afectado m√≠nimamente

         üîí Backup creado antes de modificaci√≥n
         üìã Confirmar ajuste de balance (s√≠/no)?"
```

#### üé® Para 3D Artists - Organizaci√≥n de Assets
**Operaciones Seguras de Archivos:**

```markdown
**Creaci√≥n de Estructura para Nuevo Personaje**
Modelador: "Crea estructura completa para el personaje Grim"
Agente: "Creando estructura completa para Grim...
         üìã Estructura propuesta seg√∫n pilar 200:
         02_ContentAssets/01_Entities/Characters/NPCs/Grim/
         ‚îú‚îÄ‚îÄ 00_Concepts/
         ‚îú‚îÄ‚îÄ 01_SourceFiles/
         ‚îÇ   ‚îú‚îÄ‚îÄ Modeling/
         ‚îÇ   ‚îú‚îÄ‚îÄ Sculpting/
         ‚îÇ   ‚îî‚îÄ‚îÄ Texturing/
         ‚îú‚îÄ‚îÄ 02_ExportedAssets/
         ‚îÇ   ‚îú‚îÄ‚îÄ Meshes/
         ‚îÇ   ‚îú‚îÄ‚îÄ Textures/
         ‚îÇ   ‚îî‚îÄ‚îÄ Animations/
         ‚îú‚îÄ‚îÄ 03_FinalRenders/
         ‚îú‚îÄ‚îÄ 04_Audio/
         ‚îî‚îÄ‚îÄ 05_2D/

         ‚úÖ Estructura creada seg√∫n est√°ndares del Atlas
         ‚úÖ README.md generado autom√°ticamente
         ‚úÖ Plantillas de nomenclatura aplicadas

         üîí Backup de estructura anterior creado
         üìã Confirmar creaci√≥n de estructura (s√≠/no)?"

**Renombrado por Lotes Seg√∫n Convenciones**
Texturizador: "Renombra estos archivos seg√∫n las convenciones del pilar 300"
Agente: "Renombrando archivos seg√∫n pilar 300...
         üìã Archivos a renombrar:
         - grim_skin_001.jpg ‚Üí Grim_Texture_Skin_FINAL_v1.png
         - grim_armor_01.jpg ‚Üí Grim_Texture_Armor_FINAL_v1.png
         - grim_face_1.jpg ‚Üí Grim_Texture_Face_FINAL_v1.png

         ‚úÖ Nombres validados seg√∫n pilar 300
         ‚úÖ Consistencia con otros personajes mantenida
         ‚úÖ Referencias cruzadas actualizadas autom√°ticamente

         üîí Backup creado antes del renombrado
         üìã Confirmar renombrado (s√≠/no)?"
```

#### üìã Para Project Managers - Gesti√≥n de Proyecto
**Operaciones de Coordinaci√≥n:**

```markdown
**Actualizaci√≥n de Estado de Tareas**
Productor: "Actualiza el estado de implementaci√≥n de personajes"
Agente: "Actualizando estados de personajes...
         üìã Estados actuales encontrados:
         - Bromar: 100% completado (todos los assets listos)
         - Aeliana: 85% completado (texturas en revisi√≥n)
         - Grim: 60% completado (modelo base listo, texturas pendientes)
         - Juan: 90% completado (animaciones finales pendientes)

         üìã Cambios propuestos:
         - Actualizar documentaci√≥n de progreso
         - Notificar a equipos afectados
         - Recalcular timeline basado en avances

         üîí Backup de estados anteriores creado
         üìã Confirmar actualizaci√≥n de estados (s√≠/no)?"

**Reorganizaci√≥n de Recursos**
Productor: "Reorganiza recursos seg√∫n nueva prioridad"
Agente: "Reorganizando recursos por prioridad...
         üìã Nueva organizaci√≥n propuesta:
         - Prioridad ALTA: Completar Grim (bloquea escenas principales)
         - Prioridad MEDIA: Finalizar Aeliana (mejora calidad visual)
         - Prioridad BAJA: Optimizar Bromar (ya funcional)

         üìã Impacto calculado:
         - Tiempo estimado: 5 d√≠as vs 7 d√≠as actuales
         - Recursos requeridos: mismos, mejor distribuidos
         - Riesgo: reducido por enfoque en bloqueadores

         üîí Backup de organizaci√≥n anterior creado
         üìã Confirmar reorganizaci√≥n (s√≠/no)?"
```

### Sistema de Confirmaci√≥n Inteligente

#### Proceso de Confirmaci√≥n por Operaci√≥n
```python
class ColaboradorMode:
    def __init__(self):
        self.confirmation_engine = IntelligentConfirmationEngine()
        self.backup_manager = BackupManager()
        self.impact_analyzer = ImpactAnalyzer()

    async def process_modification(self, operation, target, user_role, context):
        """Procesamiento completo de modificaciones con confirmaci√≥n"""

        # 1. An√°lisis previo de impacto
        impact_analysis = await self.impact_analyzer.analyze_operation_impact(
            operation, target, user_role
        )

        # 2. Creaci√≥n de backup autom√°tico
        backup_info = await self.backup_manager.create_backup(target, operation)

        # 3. Presentaci√≥n de an√°lisis al usuario
        confirmation_request = await self.confirmation_engine.generate_confirmation_request(
            operation, target, impact_analysis, backup_info
        )

        # 4. Espera de confirmaci√≥n del usuario
        user_confirmation = await self.wait_for_user_confirmation(confirmation_request)

        if not user_confirmation["approved"]:
            await self.backup_manager.restore_backup(backup_info["id"])
            return {
                "status": "cancelled",
                "reason": user_confirmation["reason"],
                "backup_restored": True
            }

        # 5. Ejecuci√≥n de la operaci√≥n
        execution_result = await self.execute_operation_safely(operation, target)

        # 6. Validaci√≥n post-operaci√≥n
        validation_result = await self.validate_operation_result(execution_result)

        # 7. Actualizaci√≥n de √≠ndices y referencias
        await self.update_indexes_and_references(target, operation)

        return {
            "status": "completed",
            "execution_result": execution_result,
            "validation": validation_result,
            "backup_available": True,
            "rollback_possible": True
        }
```

#### Sistema de Backup y Recuperaci√≥n
```yaml
backup_system:
  automatico: true
  niveles_backup:
    nivel_1: "Backup completo antes de cualquier modificaci√≥n"
    nivel_2: "Snapshots por operaci√≥n mayor"
    nivel_3: "Backups diferenciales para operaciones menores"

  retencion:
    backups_automaticos: "30 d√≠as"
    backups_manuales: "90 d√≠as"
    backups_criticos: "1 a√±o"

  recuperacion:
    rollback_instantaneo: "< 5 segundos"
    restauracion_selectiva: "Por archivo o operaci√≥n"
    auditoria_completa: "Historial de qui√©n modific√≥ qu√© y cu√°ndo"
```

---

## üîÑ Cambio Din√°mico entre Modos

### Detecci√≥n Autom√°tica de Modo

#### Basado en Tipo de Consulta
```python
class ModeManager:
    def __init__(self):
        self.mode_detector = ModeDetector()
        self.role_analyzer = RoleAnalyzer()

    async def detect_appropriate_mode(self, query, user_context):
        """Detecci√≥n autom√°tica del modo operativo apropiado"""

        # 1. An√°lisis de intenci√≥n de la consulta
        intent_analysis = await self.analyze_query_intent(query)

        # 2. Detecci√≥n del rol del usuario
        user_role = await self.role_analyzer.detect_user_role(user_context)

        # 3. Mapeo a modo operativo
        if intent_analysis["type"] == "consulta_informacion":
            return "modo_1_consultor"
        elif intent_analysis["type"] == "analisis_organizacion":
            return "modo_2_taxonomico"
        elif intent_analysis["type"] == "modificacion_contenido":
            return "modo_3_colaborador"
        elif intent_analysis["type"] == "gestion_proyecto":
            if user_role in ["project_manager", "director"]:
                return "modo_3_colaborador"
            else:
                return "modo_1_consultor"

        # 4. Fallback seguro
        return "modo_1_consultor"
```

#### Basado en Contexto de Trabajo
```yaml
context_mode_mapping:
  contexto_archivos_recientes:
    si_modificando_documentos_narrativos: "modo_3_colaborador"
    si_consultando_documentacion_tecnica: "modo_1_consultor"
    si_analizando_estructura_carpetas: "modo_2_taxonomico"

  contexto_ubicacion_actual:
    si_en_carpeta_02_Entidades: "modo_narrativo_activo"
    si_en_carpeta_04_Game_Design: "modo_tecnico_activo"
    si_en_carpeta_02_ContentAssets: "modo_assets_activo"

  contexto_hora_y_actividad:
    horario_laboral_normal: "modo_activo_segun_contexto"
    fuera_horario_laboral: "modo_1_consultor_solo_lectura"
    sesiones_largas: "modo_adaptativo_segun_fatiga"
```

### Transici√≥n Manual entre Modos

#### Comando Directo
```bash
# Activaci√≥n manual de modos
python run_agent.py --modo 1  # Consultor
python run_agent.py --modo 2  # Taxon√≥mico
python run_agent.py --modo 3  # Colaborador

# Cambio durante sesi√≥n activa
/agente modo 2
/agente modo consultar
/agente modo organizar
```

#### Confirmaci√≥n de Cambio de Modo
```markdown
Usuario: "Necesito modificar algunos archivos"
Agente: "Cambio de modo detectado: Consultor ‚Üí Colaborador Activo
         ‚ö†Ô∏è Modo Colaborador permite modificaciones con confirmaci√≥n estricta
         üîí Todas las operaciones requieren backup autom√°tico
         üìã Todas las modificaciones son trazables v√≠a Willow

         ¬øConfirmar cambio a Modo Colaborador? (s√≠/no)"
```

---

## üìä Casos de Uso Completos

### Caso de Uso 1: Guionista Desarrollando Nueva Escena

#### Fase 1: Investigaci√≥n (Modo 1)
```markdown
Guionista: "¬øQu√© personajes y elementos est√°n disponibles para una escena de traici√≥n?"
Agente (Modo 1): "Elementos disponibles seg√∫n narrativa actual:
         Personajes: Grim (traidor potencial), Merit (v√≠ctima potencial)
         Ubicaciones: Bosque Eldoria, Cofrad√≠a Sure√±a, Taberna Semiogro
         Elementos: Sistema de traici√≥n, arco de redenci√≥n, conflicto lealtad"
```

#### Fase 2: Organizaci√≥n (Modo 2)
```markdown
Guionista: "¬øEst√° bien estructurada esta escena?"
Agente (Modo 2): "An√°lisis de estructura narrativa:
         ‚úÖ Sigue principios del pilar 400
         ‚úÖ Mantiene coherencia con arco de personajes
         üìã Sugerencia: Agregar m√°s desarrollo antes de la traici√≥n
         üéØ Recomendaci√≥n: Crear escena puente para justificar cambio"
```

#### Fase 3: Creaci√≥n (Modo 3)
```markdown
Guionista: "Crea la escena de traici√≥n de Grim"
Agente (Modo 3): "Creando escena de traici√≥n...
         ‚úÖ Archivo creado: DLE_400_Grim_Traicion_Escena.md
         ‚úÖ Entidad FES actualizada: CHAR_Grim.fes.yml
         ‚úÖ Relaciones modificadas: REL_Grim_Merit.md, REL_Grim_Bromar.md
         üîí Backup creado antes de modificaciones
         üìã Confirmar creaci√≥n de escena (s√≠/no)?"
```

### Caso de Uso 2: 3D Artist Organizando Assets

#### Fase 1: An√°lisis (Modo 1)
```markdown
Modelador: "¬øQu√© assets de personajes necesito revisar?"
Agente (Modo 1): "Assets de personajes actuales:
         - Bromar: 100% completado (modelo, texturas, animaciones)
         - Aeliana: 85% completado (faltan animaciones finales)
         - Grim: 60% completado (modelo base listo, texturas pendientes)
         - Juan: 90% completado (necesita optimizaci√≥n)"
```

#### Fase 2: Organizaci√≥n (Modo 2)
```markdown
Modelador: "¬øEst√° bien organizada la carpeta de personajes?"
Agente (Modo 2): "An√°lisis de organizaci√≥n de assets:
         ‚úÖ Estructura sigue pilar 200 correctamente
         ‚ö†Ô∏è Problemas: Archivos sin numeraci√≥n final, falta documentaci√≥n
         üìã Sugerencias: Renombrar archivos WIP a FINAL, crear READMEs"
```

#### Fase 3: Optimizaci√≥n (Modo 3)
```markdown
Modelador: "Optimiza y reorganiza los assets de personajes"
Agente (Modo 3): "Optimizando estructura de personajes...
         üìã Operaciones propuestas:
         - Renombrar 15 archivos seg√∫n pilar 300
         - Crear README.md en cada carpeta de personaje
         - Mover archivos mal ubicados a ubicaci√≥n correcta
         - Crear estructura para personajes faltantes

         üîí Backup completo creado antes de operaciones
         üìã Confirmar optimizaci√≥n (s√≠/no)?"
```

### Caso de Uso 3: Project Manager Coordinando Equipo

#### Fase 1: Estado Actual (Modo 1)
```markdown
Productor: "¬øCu√°l es el estado actual del proyecto?"
Agente (Modo 1): "Estado general del proyecto Dungeon Life:
         üìä Progreso por Especializaci√≥n:
         - Guionistas: 85% (escenas principales completas)
         - Game Designers: 90% (mec√°nicas core definidas)
         - 3D Artists: 75% (assets principales en producci√≥n)
         - Desarrolladores: 70% (sistemas base implementados)

         üö® Bloqueadores: 3 (texturas personajes, di√°logos escenas secundarias)
         ‚è±Ô∏è Timeline: 5 d√≠as atraso vs planificaci√≥n original"
```

#### Fase 2: An√°lisis Organizacional (Modo 2)
```markdown
Productor: "¬øEst√° bien organizado el flujo de trabajo?"
Agente (Modo 2): "An√°lisis de flujo de trabajo:
         ‚úÖ Guionistas ‚Üí Game Designers ‚Üí 3D Artists (orden l√≥gico)
         ‚ö†Ô∏è Problemas: Comunicaci√≥n entre 3D Artists y Desarrolladores
         üìã Sugerencias: Crear canales espec√≠ficos por pipeline
         üéØ Recomendaci√≥n: Implementar reuniones t√©cnicas semanales"
```

#### Fase 3: Reorganizaci√≥n (Modo 3)
```markdown
Productor: "Reorganiza el flujo de trabajo para mejor eficiencia"
Agente (Modo 3): "Reorganizando flujo de trabajo...
         üìã Cambios propuestos:
         - Crear equipo t√©cnico (3D + Dev) para comunicaci√≥n directa
         - Implementar revisiones por etapas en lugar de finales
         - Paralelizar tareas independientes (guion + concept art)

         üìä Impacto estimado:
         - Eficiencia: +25% estimada
         - Tiempo: -3 d√≠as en timeline
         - Calidad: Mantenida o mejorada

         üîí Backup de organizaci√≥n actual creado
         üìã Confirmar reorganizaci√≥n (s√≠/no)?"
```

---

## üéØ Mejores Pr√°cticas por Rol

### Para Guionistas
- **Usa Modo 1** para investigaci√≥n narrativa antes de crear
- **Usa Modo 2** para validar coherencia antes de modificar
- **Usa Modo 3** solo para creaciones importantes con backup autom√°tico

### Para Game Designers
- **Usa Modo 1** para an√°lisis de sistemas existentes
- **Usa Modo 2** para validar balance y consistencia
- **Usa Modo 3** para modificaciones de reglas con impacto

### Para 3D Artists
- **Usa Modo 1** para consultar est√°ndares t√©cnicos
- **Usa Modo 2** para validar organizaci√≥n de archivos
- **Usa Modo 3** para operaciones masivas de archivos

### Para Project Managers
- **Usa Modo 1** para consultas de estado actuales
- **Usa Modo 2** para an√°lisis de flujo de trabajo
- **Usa Modo 3** para modificaciones estructurales importantes

---

## üìã Informaci√≥n de Versi√≥n

**Versi√≥n:** 1.0.0 - Modos Operativos Especializados
**Fecha:** 2025-10-07
**Estado:** Activo y Operativo
**Compatibilidad:** Total con Ecosistema DLE v3.1

**Caracter√≠sticas Implementadas:**
- ‚úÖ Tres modos operativos completamente funcionales
- ‚úÖ Adaptaci√≥n autom√°tica por rol del usuario
- ‚úÖ Sistema de permisos y confirmaciones estrictas
- ‚úÖ Integraci√≥n completa con Atlas de 6 pilares
- ‚úÖ Backup y recuperaci√≥n autom√°tica en operaciones

**Casos de Uso Cubiertos:**
- ‚úÖ Flujos completos de trabajo para cada rol
- ‚úÖ Transiciones fluidas entre modos
- ‚úÖ Operaciones seguras con trazabilidad completa
- ‚úÖ Ejemplos pr√°cticos y realistas

Este documento establece la base operativa completa para que el Dungeon Life Agent funcione efectivamente como compa√±ero especializado dentro del ecosistema DLE, respetando las necesidades √∫nicas de cada rol mientras mantiene la seguridad y trazabilidad del proyecto.